-- MySQL Script generated by MySQL Workbench
-- 08/09/18 20:25:27
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`PAISES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`PAISES` ;

CREATE TABLE IF NOT EXISTS `mydb`.`PAISES` (
  `ID_PAIS` INT NOT NULL AUTO_INCREMENT,
  `NOME_PAIS` VARCHAR(50) NULL,
  PRIMARY KEY (`ID_PAIS`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ESTADOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`ESTADOS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`ESTADOS` (
  `ID_ESTADOS` INT NOT NULL AUTO_INCREMENT,
  `NOME_ESTADOS` VARCHAR(100) NULL,
  `ID_PAIS` INT NOT NULL,
  PRIMARY KEY (`ID_ESTADOS`),
  INDEX `fk_ESTADOS_PAISES1_idx` (`ID_PAIS` ASC),
  CONSTRAINT `fk_ESTADOS_PAISES1`
    FOREIGN KEY (`ID_PAIS`)
    REFERENCES `mydb`.`PAISES` (`ID_PAIS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CIDADES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`CIDADES` ;

CREATE TABLE IF NOT EXISTS `mydb`.`CIDADES` (
  `ID_CIDADE` INT NOT NULL AUTO_INCREMENT,
  `NOME_CIDADE` VARCHAR(50) NULL,
  `ID_ESTADO` INT NOT NULL,
  PRIMARY KEY (`ID_CIDADE`),
  INDEX `fk_CIDADES_ESTADOS1_idx` (`ID_ESTADO` ASC),
  CONSTRAINT `fk_CIDADES_ESTADOS1`
    FOREIGN KEY (`ID_ESTADO`)
    REFERENCES `mydb`.`ESTADOS` (`ID_ESTADOS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CLIENTES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`CLIENTES` ;

CREATE TABLE IF NOT EXISTS `mydb`.`CLIENTES` (
  `ID_CLIENTE` INT NOT NULL AUTO_INCREMENT,
  `NOME_CLIENTE` VARCHAR(200) NULL,
  `CPF_CLIENTE` VARCHAR(15) NULL,
  `TELEFONE_CLIENTE` VARCHAR(15) NULL,
  `EMAIL_CLIENTE` VARCHAR(100) NULL,
  `SENHA_CLIENTE` VARCHAR(100) NULL,
  `DATA_NASC_CLIENTE` DATE NULL,
  `ID_CIDADE` INT NOT NULL,
  PRIMARY KEY (`ID_CLIENTE`),
  INDEX `fk_CLIENTES_CIDADES_idx` (`ID_CIDADE` ASC),
  CONSTRAINT `fk_CLIENTES_CIDADES`
    FOREIGN KEY (`ID_CIDADE`)
    REFERENCES `mydb`.`CIDADES` (`ID_CIDADE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`SUPERMERCADOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`SUPERMERCADOS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`SUPERMERCADOS` (
  `ID_SUPERMERCADO` INT NOT NULL AUTO_INCREMENT,
  `NOME_SUPERMERCADO` VARCHAR(100) NULL,
  `CNPJ_SUPERMERCADO` VARCHAR(20) NULL,
  `ENDERECO_SUPERMERCADO` TEXT NULL,
  `TELEFONE_SUPERMERCADO` VARCHAR(15) NULL,
  `EMAIL_SUPERMERCADO` VARCHAR(100) NULL,
  `SENHA_SUPERMERCADO` VARCHAR(100) NULL,
  `ID_CIDADE` INT NOT NULL,
  PRIMARY KEY (`ID_SUPERMERCADO`),
  INDEX `fk_SUPERMERCADOS_CIDADES1_idx` (`ID_CIDADE` ASC),
  CONSTRAINT `fk_SUPERMERCADOS_CIDADES1`
    FOREIGN KEY (`ID_CIDADE`)
    REFERENCES `mydb`.`CIDADES` (`ID_CIDADE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`MARCAS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`MARCAS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`MARCAS` (
  `ID_MARCA` INT NOT NULL AUTO_INCREMENT,
  `NOME_MARCA` VARCHAR(100) NULL,
  `DESCRICAO_MARCA` TEXT NULL,
  PRIMARY KEY (`ID_MARCA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CATEGORIAS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`CATEGORIAS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`CATEGORIAS` (
  `ID_CATEGORIA` INT NOT NULL AUTO_INCREMENT,
  `NOME_CATEGORIA` VARCHAR(100) NULL,
  `DESCRICAO_CATEGORIA` TEXT NULL,
  `IMAGEM_CATEGORIA` BLOB NULL,
  PRIMARY KEY (`ID_CATEGORIA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PRODUTOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`PRODUTOS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`PRODUTOS` (
  `ID_PRODUTO` INT NOT NULL AUTO_INCREMENT,
  `NOME_PRODUTO` VARCHAR(50) NULL,
  `DESCRICAO_PRODUTO` TEXT NULL,
  `ID_MARCA` INT NOT NULL,
  `ID_CATEGORIA` INT NOT NULL,
  PRIMARY KEY (`ID_PRODUTO`),
  INDEX `fk_PRODUTOS_MARCAS1_idx` (`ID_MARCA` ASC),
  INDEX `fk_PRODUTOS_CATEGORIAS1_idx` (`ID_CATEGORIA` ASC),
  CONSTRAINT `fk_PRODUTOS_MARCAS1`
    FOREIGN KEY (`ID_MARCA`)
    REFERENCES `mydb`.`MARCAS` (`ID_MARCA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRODUTOS_CATEGORIAS1`
    FOREIGN KEY (`ID_CATEGORIA`)
    REFERENCES `mydb`.`CATEGORIAS` (`ID_CATEGORIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PRECO_PRODUTOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`PRECO_PRODUTOS` ;

CREATE TABLE IF NOT EXISTS `mydb`.`PRECO_PRODUTOS` (
  `ID_PRODUTO` INT NOT NULL,
  `ID_SUPERMERCADO` INT NOT NULL,
  `PRECO_PRODUTO` DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (`ID_PRODUTO`, `ID_SUPERMERCADO`),
  INDEX `fk_PRODUTOS_has_SUPERMERCADOS_SUPERMERCADOS1_idx` (`ID_SUPERMERCADO` ASC),
  INDEX `fk_PRODUTOS_has_SUPERMERCADOS_PRODUTOS1_idx` (`ID_PRODUTO` ASC),
  CONSTRAINT `fk_PRODUTOS_has_SUPERMERCADOS_PRODUTOS1`
    FOREIGN KEY (`ID_PRODUTO`)
    REFERENCES `mydb`.`PRODUTOS` (`ID_PRODUTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PRODUTOS_has_SUPERMERCADOS_SUPERMERCADOS1`
    FOREIGN KEY (`ID_SUPERMERCADO`)
    REFERENCES `mydb`.`SUPERMERCADOS` (`ID_SUPERMERCADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
